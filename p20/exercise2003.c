define M(x,y) ((x)^=(y), (y)^=(x), (x)^=(y))
This macro puts two values x and y in macro equation places.